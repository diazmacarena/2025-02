#include <iostream>
using namespace std;

void split(int* A, int* fin, function<bool(int)> lambda){
    int* ini = A;
   
    for(int* lectura = ini; lectura <= fin; ++lectura) {
    if(lambda(*lectura)) {
        int temp = *lectura;
        for(int* k = lectura; k > ini; --k) {
            *k = *(k-1);
            }
        *ini = temp;
        ++ini;
        }
    }
}


int main()
{
 int A[] = {1, 2, 3, 4, 5, 6, 7};

 
 auto lambda = [](int a){
    return a % 3 == 0;};
    split(A, A+6, lambda);
           
   
for (int i = 0; i < 7;i++){
    auto print = [&A](int x){cout << *(A+x) << " ";};
    print(i);
    }
}
